<html xmlns:th="http://www.thymeleaf.org" xmlns:tiles="http://www.thymeleaf.org"  ng-app="brainApp" >
    <head>
    
    	<th:block th:include="layout/mainLayout :: pageheader" />
    	
		<script th:src="@{/js/companies_list.js}"></script>
        <link th:href="@{/css/companies_list.css}" rel="stylesheet" />
    </head>
    <body ng-controller="BodyController">
        <header th:replace="layout/mainLayout :: header" ></header>
        <div th:replace="layout/mainLayout :: breadcrumb" ></div>
       	<div th:replace="layout/mainLayout :: leftToolbar" ></div>

		<div class="floatLeft page-content" ng-controller="CompanyListController" >
			<div class="page-conent-title"  th:text="#{companies.companies-list}"></div>
			
    		<div ng-table-pagination="companiesTable" class="top-pagination" template-url="'ng-table/pager.html'"></div>

			<table ng-table="companiesTable" class="table companies-list" show-filter="true" >
			    
				
				<thead class="ng-scope">
					<tr class="ng-table-sort-header">
						<th title="" class="header row-index">					        
							<div class="ng-table-header ng-scope"> # </div>
						</th>
						
						
						<th title="" ng-repeat="(columnId, tblColumn) in tableSettings.columns" ng-if="tblColumn.show" 
						class="header" role="button"
						ng-class="{
                    'sortable': tblColumn.sortable,
                    'sort-asc': params.sorting()[tblColumn.sortable]=='asc',
                    'sort-desc': params.sorting()[tblColumn.sortable]=='desc'
                  }" ng-click="tblColumn.sortable && sortColumn(tblColumn, $event)" ng-style="tblColumn.style" >
							<div class="ng-table-header ng-scope" ng-class="{'sort-indicator': params.settings().sortingIndicator == 'div'}">
						    	<span ng-class="{'sort-indicator': params.settings().sortingIndicator == 'span'}" class="ng-binding sort-indicator">{{tblColumn.title}}</span>
						    </div>
						</th>

						<th title="" class="header action">					        
							
						</th>
					</tr>
					<tr ng-show="show_filter" class="ng-table-filters" aria-hidden="false" ng-if="$data.length > 0">
						<th class="row-index">
					        
						</th>				

						<th ng-repeat="(columnId, tblColumn) in tableSettings.columns" ng-if="tblColumn.show" class="filter " 
							ng-class="params.settings().filterOptions.filterLayout === 'horizontal' ? 'filter-horizontal' : ''" ng-style="tblColumn.style">
						        <div ng-if="tblColumn.filter" 
						        	class="filter-cell ng-scope s12 last">
						        		<input type="text" name="{{tblColumn.id}}" ng-model="params.filter()[tblColumn.id]" class="input-filter form-control ng-pristine ng-valid ng-scope ng-empty ng-touched" placeholder="" aria-invalid="false" style="">
					        			<span class="clear-filter ng-scope" ng-click="clearFilter($event, this)" role="button" tabindex="0"><i class="material-icons">clear</i>
					        			</span>
								</div>
						</th>	
						
						<th class="action">
					       
						</th>				
					</tr>
				</thead>
			    
			    <tbody>
				    <tr ng-repeat="company in $data" ng-class="">
				        <td>
				        	<div class="general-detail">
				            {{$index + 1 + ((companiesTable.page() - 1) * companiesTable.count())}}
				            </div>
				        </td>
				               
				        <td ng-repeat="(columnId, tblColumn) in tableSettings.columns" title="{{tblColumn.title}}" ng-style="tblColumn.style" >
				        	<div class="general-detail" ng-bind-html="tblColumn.writeFunction(company)">
				            
							</div>
				        </td>
				
				        <td sortable="false" class="action">
	
			    			<md-button class="md-icon-button toolbar-button-small" data-toggle="tooltip" th:title="#{common.view}"  
			    			href="/basics/companies/view/{{company.id}}">
								<i class="material-icons">details</i>
							</md-button>
			    			<md-button class="md-icon-button toolbar-button-small" data-toggle="tooltip" th:title="#{common.edit}" 
			    			href="/basics/companies/update/{{company.id}}" ng-if="true">
								<i class="material-icons">edit</i>
							</md-button>
			    			<md-button class="md-icon-button toolbar-button-small" data-toggle="tooltip" th:title="#{common.delete}" 
			    			href="/basics/companies/delete/{{company.id}}" ng-if="true">
								<i class="material-icons">delete</i>
							</md-button>
							
				        </td>
				
				    </tr>
				    
				    <tr ng-if="$data.length == 0" class="nodata"><td colspan="20" th:text="#{common.nodata}"></td></tr>
			    </tbody>
			</table>
			
			
			
		</div>
 

		<script th:inline="javascript">
		var serverConnectionError = [[#{error.serverconnectionerror}]];
		
		var tableColumns = /*[[${tableColumns}]]*/ [];

		</script>

		<th:block th:include="layout/mainLayout :: footer" />
     </body>
</html>
